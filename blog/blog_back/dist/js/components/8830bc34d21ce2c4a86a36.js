webpackJsonp([8],{212:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(234),a=r(255),l=r(52),i=!1;var s,n=function(e){i||r(254)},m=Object(l.a)(o.a,a.a,a.b,!1,n,"data-v-138ef3c0",null);m.options.__file="src\\components\\article\\amend_article.vue",(s=r(17)).install(r(1),!1),s.compatible&&(e.hot.accept(),e.hot.data?s.reload("data-v-138ef3c0",m.options):s.createRecord("data-v-138ef3c0",m.options),e.hot.dispose(function(e){i=!0})),t.default=m.exports},223:function(e,t,r){(e.exports=r(50)(!1)).push([e.i,"\nh3[data-v-138ef3c0] {\n       margin: 20px 0 20px 40px\n}\n#editor[data-v-138ef3c0] {\n       width: 800px;\n}\n",""])},234:function(e,t,r){"use strict";t.a={name:"add_article",data(){return{oneClass:[],twoClass:[],olddata:[],editer:null,ruleForm:{article_name:"",oneId:"",twoId:"",editer:"",content:"",time:"",daodu:"",recommend:"0",art_show:"0",enname_one:""},rules2:{article_name:[{required:!0,message:"请输入文章名称",trigger:"blur"}],oneId:[{required:!0,message:"请选择一级分类",trigger:"blur"}],twoId:[{required:!0,message:"请选择二级分类",trigger:"blur"}],editer:[{required:!0,message:"请输入作者",trigger:"blur"}],times:[{validator:(e,t,r)=>{""===this.timedata?r(new Error("请选择时间")):r()},message:"请选择时间",trigger:"blur"}]}}},mounted(){this.editor=UE.getEditor("editor"),this.senddata()},methods:{senddata(){var e=this.$route.params.id;this.axios.get("/api/back/article/getArticleDetail?id="+e).then(e=>{this.ruleForm=e.data.data[0],this.ruleForm.recommend=this.ruleForm.recommend+"",this.ruleForm.art_show=this.ruleForm.art_show+"",console.log(this.ruleForm.content),this.editor.addListener("ready",function(){this.editor.setContent(this.ruleForm.content)}.bind(this))})},changefn(e){this.ruleForm.time=e},submitForm(e){this.$refs[e].validate(e=>{if(!e||""==this.editor.getContent())return console.log("error submit!!"),!1;this.ruleForm.content=this.editor.getContent(),console.log(this.ruleForm),this.axios.post("/api/back/article/updateArticle",this.ruleForm).then(function(e){"3031"==e.data.code?(this.$message({type:"success",message:"恭喜成功"}),setTimeout(()=>{this.$router.go(0)},1e3)):this.$message({type:"error",message:"失败"})}.bind(this))})}},destroyed(){this.editor.destroy()}}},254:function(e,t,r){var o=r(223);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=(0,r(51).default)("9086b99e",o,!1,{});o.locals||e.hot.accept(223,function(){var t=r(223);"string"==typeof t&&(t=[[e.i,t,""]]),a(t)}),e.hot.dispose(function(){a()})},255:function(e,t,r){"use strict";r.d(t,"a",function(){return o}),r.d(t,"b",function(){return a});var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticStyle:{width:"700px"}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules2,"label-width":"100px"}},[r("h3",[e._v("增加文章")]),e._v(" "),r("el-form-item",{attrs:{label:"文章标题",prop:"article_name"}},[r("el-input",{attrs:{type:"text","auto-complete":"off"},model:{value:e.ruleForm.article_name,callback:function(t){e.$set(e.ruleForm,"article_name",t)},expression:"ruleForm.article_name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否显示",prop:"art_show"}},[r("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:e.ruleForm.art_show,callback:function(t){e.$set(e.ruleForm,"art_show",t)},expression:"ruleForm.art_show"}},[e._v("是")]),e._v(" "),r("el-radio",{staticClass:"radio",attrs:{label:"0"},model:{value:e.ruleForm.art_show,callback:function(t){e.$set(e.ruleForm,"art_show",t)},expression:"ruleForm.art_show"}},[e._v("否")])],1),e._v(" "),r("el-form-item",{attrs:{label:"是否推荐",prop:"recommend"}},[r("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:e.ruleForm.recommend,callback:function(t){e.$set(e.ruleForm,"recommend",t)},expression:"ruleForm.recommend"}},[e._v("是")]),e._v(" "),r("el-radio",{staticClass:"radio",attrs:{label:"0"},model:{value:e.ruleForm.recommend,callback:function(t){e.$set(e.ruleForm,"recommend",t)},expression:"ruleForm.recommend"}},[e._v("否")])],1),e._v(" "),r("el-form-item",{attrs:{label:"作者",prop:"editer"}},[r("el-input",{attrs:{type:"text","auto-complete":"off"},model:{value:e.ruleForm.editer,callback:function(t){e.$set(e.ruleForm,"editer",t)},expression:"ruleForm.editer"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"导读",prop:""}},[r("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容",autosize:{minRows:2,maxRows:10}},model:{value:e.ruleForm.daodu,callback:function(t){e.$set(e.ruleForm,"daodu",t)},expression:"ruleForm.daodu"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"时间",prop:"times"}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:e.changefn},model:{value:e.ruleForm.time,callback:function(t){e.$set(e.ruleForm,"time",t)},expression:"ruleForm.time"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"内容",prop:""}},[r("div",{attrs:{id:"editor"}})]),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)])},a=[];o._withStripped=!0,e.hot.accept(),e.hot.data&&r(17).rerender("data-v-138ef3c0",{render:o,staticRenderFns:a})}});